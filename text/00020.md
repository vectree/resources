# Подготовка

### Вступление

Прежде чем мы сможем установить Ruby и запустить приложение на Rails, нам нужно настроить совместимую с этим зоопарком операционную систему.

Если вы уже используете **MacOS** или **Linux**, то можете пропустить этот раздел. В противном случае жмакните на любую стрелку рядом с способом установки, который вы хотели бы использовать, а затем следуйте инструкциям.

<details markdown="block">
<summary class = "dropDown-header">Виртуальная машина (самый простой способ)</summary>

Установка виртуальной машины (VM) - это самый простой и удобный способ начать веб-разработку. Виртуальная машина - это настоящая компьютерная эмуляция, которая работает внутри вашей текущей ОС. Основным недостатком виртуальной машины является то, что она очень медлена, так как, по сути, вы запускаете два компьютера одновременно. Мы сделаем несколько вещей и попробуем частично исправить данную проблему.

### Шаг 1. Загрузка VirtualBox и Linux

Установка виртуальной машины - это простой процесс. В данном векторе для создания и запуска виртуальной машины используется программа Oracle VirtualBox. Эта программа с открытым исходным кодом, бесплатная и достаточно простая. Что может быть лучше? Теперь давайте убедимся, что у нас все загружено и готово к установке.

#### Шаг 1.1: Загрузка VirtualBox

[Нажмите здесь](https://www.virtualbox.org/wiki/Downloads) и загрузите VirtualBox для Windows.

#### Шаг 1.2: Загрузка Linux

Существуют тысячи версий Linux, но Ubuntu, несомненно, является одной из самых популярных и удобных. При установке Linux на VM мы рекомендуем [загрузить](http://mirror.us.leaseweb.net/ubuntu-cdimage/xubuntu/releases/18.04/release/xubuntu-18.04-desktop-amd64.iso) и установить [Xubuntu 18.04](https://xubuntu.org/release/18-04/). Xubuntu использует то же базовое программное обеспечение, что и Ubuntu, но имеет менее требовательный по ресурсам интерфейс, а следовательно, Xubuntu больше подходит для VM.

### Шаг 2. Установка VirtualBox и настройка Xubuntu

#### Шаг 2.1: Установить VirtualBox

Установка VirtualBox очень проста. Он не требует никаких технических знаний и аналогична с установкой любых других программ с Windows. Двойной щелчок по загруженному файлу запустит процесс установки. Все остальные параметры, предложенные во время установки, такие как создание значка на рабочем столе, задавайте на свое усмотрение. Во время процесса установки индикатор может остановиться на пару минут, просто подожтие, мы не торопимся. После завершения установки запустите VirtualBox.

#### Шаг 2.2: Настройка Xubuntu

Теперь, когда у вас установлен VirtualBox, дважды щелкните по значку программы, и вы увидите следующую картину:

![Installed_vbox](https://i.imgur.com/VO9Y1Si.png)

Нажмите на кнопку "Создать", чтобы создать виртуальную операционную систему. Выберите необходимую операционную систему в выпадающем меню (Linux / Ubuntu) и дайте ей любое имя. Нажмите "Далее" и в последующих шагах выберите следующие параметры:

1. Объем памяти: по возможности используйте 2048 МБ или более. В идеале эта цифра должна быть равна половине памяти вашего компьютера. Например, если у вас 8 ГБ ОЗУ, выделите 4 ГБ для вашей виртуальной машины.

2. Жесткий диск: создайте новый виртуальный жесткий диск.

3. Тип файла жесткого диска: выберите VDI (VirtualBox Disk Image).

4. Формат хранения: динамический виртуальный жесткий диск.

5. Расположение и размер файла: рекомендуется не менее 20 ГБ.

После завершения последнего шага нажмите кнопку "Создать". Ваша новая виртуальная ОС должна появится в меню. Щелкните по ней правой кнопкой мыши и перейдите в "Настройки". Нажмите на вкладку "Система", а затем на вкладку "Процессор". Увеличьте количество процессоров до 2.

Далее перейдите на вкладку "Носители" и щелкните на значок компакт-диска с надписью "Пусто", что позволит вам добавить iso-файл Xubuntu, который вы скачали ранее:

![Choose_disc_vbox](https://i.imgur.com/KvF7FHJ.png)

После этого нажмите "ОК", чтобы сохранить изменения.

Вы можете запустить VM, щелкнув правой кнопкой мыши на значок "Запустить" в меню, а затем "Нормальный запуск".

Когда виртуальная машина запустится, вам будет предложено установить Xubuntu. Процесс очень прост, и все параметры по умолчанию могут быть оставлены как есть, включая тип установки ("Очистить диск и установить Ubuntu"). Звучит страшно, но виртуальная машина может видеть только виртуальный "жесткий диск". В этом прелесть виртуальных машин: способность разделять физическое пространство вашего компьютера на множество виртуальных машин.

Остальная часть установки довольно проста, но если у вас есть какие-либо вопросы, вы можете найти официальное руководство по установке Ubuntu [здесь](https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0), а <span class="btn-fill btn btn-xs btn-warning">на русском</span> [здесь](https://help.ubuntu.ru/wiki/ubuntu_install).

### Шаг 3. Установка и включение Guest Additions

Ваша стандартная операционная система (в данном случае Windows) называется **Host** или **Хост**, а все другие операционные системы, работающие как виртуальные машины, называются **Guest** или **Гость**. Чтобы облегчить работу в гостевой ОС, вам необходимо установить Guest Additions. Guest Additions добавляет много функционала в гостевую ОС, нарпимер, "Drag and Drop" файлов (перетаскивание файлов), полноэкранный гостевой режим, общие папки и копирование/вставку между хостом и гостем.

Установка гостевых дополнений - самая сложная часть настройки виртуальной машины, но, к счастью, у нас есть руководство. Гляньте [эту статью](http://www.fixedbyvonnie.com/2015/07/how-to-setup-xubuntu-linux-in-virtualbox-step-by-step/#.XDVqWVxKguU). Вы можете просто прокрутить вниз до раздела "Установка гостевых дополнений в Xubuntu".

Вы также можете изучить [данную](https://losst.ru/ustanovka-linux-na-virtualbox) статью <span class="btn-fill btn btn-xs btn-warning">на русском</span>.

### Шаг 4. Изучите вашу новую виртуальную машину

Вот несколько советов, как начать программировать и учиться в виртуальной среде:

- Все необходимое для программирования, включая Ruby, Rails и JavaScript, будет устанолвенно вами внутри гостевой ОС.

- Вам необходимо придерживаться инструкций по установке на Linux внутри вашей виртуальной машины. Ведь она хоть и виртуальная, но все же Linux.

- Вся разработка, связанная с Vectree, будут выполняться на виртуальной машине.

- Мы рекомендуем перейти в полноэкранный режим ("Файл" > "Полноэкранный режим") и забыть о существовании своей операционной системы (Windows).

</details>

<details markdown = "block">
<summary class = "dropDown-header">Linux / Windows Dual-Boot или мультизагрузка</summary>

**Прочитайте данный раздел перед началом**

При двойной загрузке на вашем компьютере присутствуют две операционные системы, которые вы можете переключать с помощью простой перезагрузки. Одна ОС не будет влиять на другую, пока вы явно не скажете ей сделать это. **Важно!** Прежде чем продолжить, обязательно сделайте резервную копию любых важных данных и будьте готовы обратиться за помощью. Если вы ничего не поняли, напуганы и застряли, мы всегда рядом, просто напишите нам в [чате](https://discord.gg/xfrkERK). Не бойтесь и залетайте со слов `Привет всем`!

### Шаг 1. Загрузка Linux

Во-первых, вам нужно скачать необходимую версию Linux. Ubuntu выпускается в разных версиях ("вариантах"), но мы предлагаем стандартный [Ubuntu](https://www.ubuntu.com/download/desktop) без свистелок. Если же у вас старый дряхлый компьютер, рекомендуем [Xubuntu](https://xubuntu.org/). Обязательно загрузите 64-разрядную версию [Ubuntu](https://www.ubuntu.com/download/desktop/thank-you?version=18.04.1&architecture=amd64) или [Xubuntu](http://mirror.us.leaseweb.net/ubuntu-cdimage/xubuntu/releases/18.04/release/xubuntu-18.04-desktop-amd64.iso).

### Шаг 2. Создание загрузочной флешки

Далее следуйте [этому руководству](https://tutorials.ubuntu.com/tutorial/tutorial-create-a-usb-stick-on-windows#0) или [этому](https://losst.ru/kak-sdelat-zagruzochnuyu-fleshku-ubuntu) <span class="btn-fill btn btn-xs btn-warning">на русском</span>. Это позволит вам создать загрузочную флешку для установки Ubuntu на жесткий диск. Если у вас нет флешки, вы также можете воспользоваться CD или DVD.

Кстати, с помощью загрузочной флешки вы можете попробовать [различные версии Ubuntu](https://help.ubuntu.ru/wiki/%D1%81%D0%B5%D0%BC%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%BE_ubuntu), ведь вам не обязательно их устанавливать. Но помните, что запуск с флэш-накопителя приведет к замедлению работы ОС и может сократить срок службы вашей флешки.

### Шаг 3: Установка Ubuntu

#### Шаг 3.1: Загрузка с флешки

Во-первых, вам нужно загрузить Linux на флешку. Точные шаги могут отличаться, но в целом вам нужно будет сделать следующее:

- Вставьте флешку в компьютер.
- Перезагрузите компьютер.
- Выберите вашу флэшку в качестве загрузочного устройства заместо жесткого диска.

Например, на компьютере фирмы Dell, чтобы открыть меню загрузки, вам потребуется подключить флэшку, перезагрузить компьютер и нажать клавишу F12, пока компьютер загружается на старте. И вот тут вы можете выбрать загрузку с флешки. Алгоритм может отличаться компьютер от компьютера, но Google вам в помощь, как грится.

#### Шаг 3.1: Установка Ubuntu

Если вы не хотите пока устанавливать данную версию Ubuntu, а хотите проверить ее, нажмите "Запустить Ubuntu". Когда вы найдете понравившуюся вам версию Ubuntu, нажмите "Установить Ubuntu" и перейдите к следующему шагу.

После нажатия кнопки "Установить Ubuntu" на вашем компьютере начинают происходить реальные изменения. Настройки по умолчанию можно не менять, но обязательно укажите **"Установите Ubuntu рядом с Windows"** и измените выделенное дисковое пространство для Linux до 30 ГБ (или больше, если можно).

Для получения пошаговых инструкций следуйте этому [руководству по установке](https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0) или [этому](https://help.ubuntu.ru/wiki/ubuntu_install) <span class="btn-fill btn btn-xs btn-warning">на русском</span>.

</details>

<details markdown="block">
<summary class="dropDown-header">Windows 10 WSL (не рекомендуется)</summary>

Microsoft в последнее время делает шаги в сторону поддержки разработчиков и использования открытого исходного кода. Одной из самых значимых функций, которые они добавили в Windows 10, была Windows Subsystem for Linux (WSL), представляющая собой командную строку Linux в Windows. За исключением нескольких незначительных изменений - это аналог той самой командной строки Linux, а следовательно вы можете пользоваться инструкциям для Ubuntu.

Однако, Ruby и Rails все еще довольно нестабилен в WSL, поэтому мы рекомендуем использовать виртуальную машину. В перспективе использование виртуальной машины вместо WSL сэкономит ваше время и избавит от головной боли.

С момента выпуска обновления Fall Creators 2017 года Microsoft упростила запуск и работу WSL с помощью [Windows Settings and the Microsoft Store](https://winaero.com/blog/enable-wsl-windows-10-fall-creators-update/).

### Шаг 1. Установка WSL

Microsoft сделала установку WSL очень простой.

- Откройте меню "Пуск" и найдите "Microsoft Store". Откройте Store.
- Введите "Ubuntu" в поле поиска магазина.
- Нажмите оранжевую кнопку "Ubuntu 18.04" и нажмите "Установить".

Данные шаги установят WSL на ваш компьютер. Процесс займет около 10 минут, в зависимости от вашего интернета.

Примечание. Если вы столкнулись с ошибкой, следуйте указаниям [здесь](https://aka.ms/wslinstall) или [здесь](http://www.wincore.ru/advices/6526-kak-vklyuchit-podsistemu-windows-dlya-linux.html) <span class="btn-fill btn btn-xs btn-warning">на русском</span>, чтобы включить и установить WSL.

### Шаг 2: Запуск WSL

WSL - это просто терминал Linux внутри Windows. Чтобы запустить программу, откройте меню "Пуск" и выполните поиск "Ubuntu 18.04". При первом запуске программы вы можете получить сообщение "Установка. Это может занять несколько минут...". После завершения установки вам будет предложено создать новое имя пользователя и пароль, которые будут использоваться для входа в систему WSL.

### Шаг 3. Настройка символической ссылки (Symbolic Link)

Когда была установлена ​​Ubuntu, ваша файловая система Windows `C:\drive` была сопоставлена ​​с каталогом `/mnt` в Ubuntu. Чтобы сделать вашу жизнь еще проще, мы настроим ярлык между вашим диском `C:\` и вашей домашней папкой внутри WSL.

> По итогу, изменяя папку внутри WSL, вы будете менять папку файловой системы Windows. Получаем что-то вроде тунеля между основной операционной системой и WSL.

#### Шаг 3.1. Создание каталога проектов

Вы можете разместить файлы проектов в любом месте, но для упрощения вашей жизни мы рекомендуем добавить папку **Projects** в папку **Документы**.

В терминале Ubuntu введите:

```bash
mkdir /mnt/c/Users/<Имя Пользователя Windows>/Documents/Projects
```

Обязательно замените "<Имя Пользователя Windows>" на ваше имя пользователя Windows.

#### Шаг 3.2. Создание символической ссылки

Затем мы установим ссылку для связи папки Projects с вашей домашней директорией WSL. Это важно для многих процессов скрытых от пользователя.

В терминале Ubuntu введите:

```bash
ln -s /mnt/c/Users/<Имя Пользователя Windows>/Documents/Projects ~/Projects
```

### Важные заметки

- Любые проекты, созданные из терминала WSL, должны быть помещены в каталог Projects.

- Файлы программы WSL скрыты от посторонних глаз и не просто так, поэтому не редактируйте эти файлы из Windows. Изменение этих файлов вызовет серьезные проблемы с вашей Ubuntu и, возможно, даже с вашей Windows.

</details>

**Обратите внимание: в настоящее время мы не поддерживаем пользователей, у которых возникли проблемы с Rails в Windows без виртуальной машины или WSL.**

Проект Vectree имеет отличную поддержку Linux / MacOS, поэтому советуем поставить себе одну из этих систем! Если вы работаете с Windows и у вас нет с ним проблем, то создайте PR с инструкциями по установке инструментов, тем самым вы поможете другим разработчикам.
